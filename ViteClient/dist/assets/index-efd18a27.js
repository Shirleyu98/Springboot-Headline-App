import{i as c,u as V,a as b,r as d,b as s,c as P,d as R,h as t,k as a,e as C,y as U,l as _,_ as h}from"./index-ae5aa42a.js";const k={class:"login-container"},N=c({name:"Login"}),B=c({...N,setup(E){const v=V(),i=b(),m=d(),f=d(!1),l=d({username:"zhangsan",userPwd:"123456"}),g={username:[{required:!0,validator:(n,e,o)=>{e.length<4?o(new Error("用户名长度不能小于4位")):o()}}],userPwd:[{required:!0,trigger:"blur",validator:(n,e,o)=>{e.length<6?o(new Error("密码长度不能小于6位")):o()}}]},w=async()=>{var n;await((n=m.value)==null?void 0:n.validate()),f.value=!0;try{await v.login(l.value),i.push({name:"HeadlineNews"})}finally{f.value=!1}},y=()=>{i.push({name:"Register"})};return(n,e)=>{const o=s("el-input"),r=s("el-form-item"),p=s("el-button"),x=s("el-form");return P(),R("div",k,[t(x,{model:l.value,ref_key:"formRef",ref:m,"label-width":"80px",class:"login-form",rules:g},{default:a(()=>[e[4]||(e[4]=C("h2",null,"用户登录",-1)),t(r,{label:"用户名",prop:"username"},{default:a(()=>[t(o,{modelValue:l.value.username,"onUpdate:modelValue":e[0]||(e[0]=u=>l.value.username=u),ref:"username",name:"username",autocomplete:"off",placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),t(r,{label:"密码",prop:"userPwd"},{default:a(()=>[t(o,{type:"password",modelValue:l.value.userPwd,"onUpdate:modelValue":e[1]||(e[1]=u=>l.value.userPwd=u),autocomplete:"off",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),t(r,null,{default:a(()=>[t(p,{type:"success",onClick:U(w,["prevent"])},{default:a(()=>e[2]||(e[2]=[_("登录")])),_:1}),t(p,{type:"primary",onClick:y},{default:a(()=>e[3]||(e[3]=[_("注册")])),_:1})]),_:1})]),_:1},8,["model"])])}}});const z=h(B,[["__scopeId","data-v-a71abdf4"]]);export{z as default};
