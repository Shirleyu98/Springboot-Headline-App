import{i as c,a as V,r as f,b as d,c as k,d as y,h as o,k as s,e as x,l as m,z as b,A as C,E as p,_ as E}from"./index-ae5aa42a.js";const U={class:"register-container"},R=c({name:"Register"}),q=c({...R,setup(F){const v=V(),a=f({username:"",userPwd:"",confirmPassword:"",nickName:""}),u=f(),w={nickName:[{required:!0,trigger:"blur",validator:(l,e,r)=>{e.length>=2&&e.length<=6?r():r(new Error("姓名必须在2-6位"))}}],username:[{required:!0,validator:(l,e,r)=>{e.length<4?r(new Error("用户名长度不能小于4位")):r()}}],userPwd:[{required:!0,trigger:"blur",validator:(l,e,r)=>{e.length<6?r(new Error("密码长度不能小于6位")):r()}}],confirmPassword:[{required:!0,trigger:"blur",validator:(l,e,r)=>{e.length<6?r(new Error("密码长度不能小于6位")):r()}}]},_=async()=>{var l,e;if(await((l=u.value)==null?void 0:l.validate()),a.value.userPwd==a.value.confirmPassword){await b(a.value.username);const r={username:"",userPwd:"",nickName:""};r.username=a.value.username,r.userPwd=a.value.userPwd,r.nickName=a.value.nickName,await C(r),(e=u.value)==null||e.resetFields(),p.success("注册成功")}else return p.error("密码和确定密码必须一致")},g=()=>{v.push({path:"/login"})},P=()=>{var l;(l=u.value)==null||l.resetFields()};return(l,e)=>{const r=d("el-input"),n=d("el-form-item"),i=d("el-button"),N=d("el-form");return k(),y("div",U,[o(N,{model:a.value,ref_key:"formRef",ref:u,"label-width":"80px",class:"register-form",rules:w},{default:s(()=>[e[7]||(e[7]=x("h2",null,"用户注册",-1)),o(n,{label:"姓名",prop:"nickName"},{default:s(()=>[o(r,{modelValue:a.value.nickName,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.nickName=t),autocomplete:"off",ref:"nickName",name:"nickName",placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),o(n,{label:"用户名",prop:"username"},{default:s(()=>[o(r,{modelValue:a.value.username,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.username=t),autocomplete:"off",ref:"username",name:"username",placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),o(n,{label:"密码",prop:"userPwd"},{default:s(()=>[o(r,{type:"password",modelValue:a.value.userPwd,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.userPwd=t),ref:"userPwd",name:"userPwd",autocomplete:"off",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),o(n,{label:"确认密码",prop:"confirmPassword"},{default:s(()=>[o(r,{type:"password",modelValue:a.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.confirmPassword=t),autocomplete:"off",ref:"confirmPassword",name:"confirmPassword",placeholder:"请确认密码"},null,8,["modelValue"])]),_:1}),o(n,null,{default:s(()=>[o(i,{type:"primary",onClick:_},{default:s(()=>e[4]||(e[4]=[m("注册")])),_:1}),o(i,{type:"danger",onClick:P},{default:s(()=>e[5]||(e[5]=[m("重置")])),_:1}),o(i,{type:"success",onClick:g},{default:s(()=>e[6]||(e[6]=[m("去登录")])),_:1})]),_:1})]),_:1},8,["model"])])}}});const I=E(q,[["__scopeId","data-v-6821e000"]]);export{I as default};
